# Predictor Validation Results

**Generated**: 2025-08-08 18:14:47

**Configuration**:
- PTH_PERCENTILE: 1.0
- TOL_DIFF_1: 0.0001
- TOL_OBS_1: 0.1%
- TOL_DIFF_2: 1e-06
- INDEX_COLS: ['permno', 'yyyymm']

## Summary

| Predictor                 | Python CSV | Columns  | Superset  | Precision1   | Precision2              |
|---------------------------|------------|----------|-----------|--------------|-------------------------|
| OptionVolume2             | ✅         | ✅       | ❌ (0.72%)   | ✅ (0.07%)    | ❌ (100th diff 1.2E+02)  |
| OptionVolume1             | ✅         | ✅       | ❌ (0.72%)   | ❌ (3.33%)    | ❌ (100th diff 5.4E+03)  |
| SmileSlope                | ✅         | ✅       | ❌ (0.71%)   | ✅ (0.05%)    | ❌ (100th diff 2.5E+00)  |
| RIVolSpread               | ✅         | ✅       | ❌ (0.71%)   | ✅ (0.05%)    | ❌ (100th diff 8.3E-01)  |

**Overall**: 0/4 available predictors passed validation
**Python CSVs**: 4/4 predictors have Python implementation

## Detailed Results

### OptionVolume1

**Status**: ❌ FAILED

**Test Results**:
- Test 1 - Column names: ✅ PASSED
- Test 2 - Superset check: ❌ FAILED (Python missing 6151 Stata observations)
- Test 3 - Precision1 check: ❌ FAILED
- Test 4 - Precision2 check: ❌ FAILED

**Columns**: ['OptionVolume1']

**Observations**:
- Stata:  855,113
- Python: 852,949
- Common: 848,962

**Precision1**: 3.332% obs with diff >= 1.00e-04 (tolerance: < 0.1%)

**Precision2**: 100th percentile diff = 5.42e+03 (tolerance: < 1.00e-06)

**Missing Observations Sample**:
```
 index  permno  yyyymm  OptionVolume1
     0   10353  199602      398.64133
     1   10353  199603      391.94232
     2   10353  199604      739.59509
     3   10353  199605      573.88220
     4   10353  199606      579.58887
     5   10353  199607      638.34601
     6   10353  199608      395.64926
     7   10353  199609      912.85107
     8   10353  199610      811.50128
     9   10353  199611      545.16467
```

**Feedback**:
- Num observations with diff >= TOL_DIFF_1: 28285/848962 (3.332%)

**Most Recent Bad Observations**:
```
   permno  yyyymm        python       stata      diff
0   10066  202308   6985.365854   6985.3657  0.000154
1   10104  202308   7407.255092   7407.2549  0.000192
2   10516  202308   2153.763010   2153.7629  0.000110
3   11481  202308  10743.031203  10743.0310  0.000203
4   12076  202308   3009.445408   3009.4453  0.000108
5   12369  202308   5063.518855   5063.5190 -0.000145
6   12490  202308   8942.986110   8942.9863 -0.000190
7   12919  202308  21867.801781  21867.8030 -0.001219
8   13108  202308   9870.928357   9870.9287 -0.000343
9   13303  202308   2148.541114   2148.5410  0.000114
```

**Largest Differences**:
```
   permno  yyyymm      python      stata         diff
0   48506  200712    9.991014  5434.7178 -5424.726786
1   48506  201105    7.529478  5349.4653 -5341.935822
2   48506  200706   38.071940  5158.9268 -5120.854860
3   89644  200503  256.329917  5119.5859 -4863.255983
4   89644  200511   84.272591  4918.0000 -4833.727409
5   48506  200804    2.983534  4770.9453 -4767.961766
6   89644  200412  296.809774  4398.9888 -4102.179026
7   48506  200710    9.286592  4057.5178 -4048.231208
8   48506  200805    6.384982  3965.9922 -3959.607218
9   89644  200410  104.604516  4031.5183 -3926.913784
```

---

### OptionVolume2

**Status**: ❌ FAILED

**Test Results**:
- Test 1 - Column names: ✅ PASSED
- Test 2 - Superset check: ❌ FAILED (Python missing 6070 Stata observations)
- Test 3 - Precision1 check: ✅ PASSED
- Test 4 - Precision2 check: ❌ FAILED

**Columns**: ['OptionVolume2']

**Observations**:
- Stata:  843,512
- Python: 841,828
- Common: 837,442

**Precision1**: 0.068% obs with diff >= 1.00e-04 (tolerance: < 0.1%)

**Precision2**: 100th percentile diff = 1.24e+02 (tolerance: < 1.00e-06)

**Missing Observations Sample**:
```
 index  permno  yyyymm  OptionVolume2
     0   10353  199603       0.983195
     1   10353  199604       1.871010
     2   10353  199605       1.125128
     3   10353  199606       1.101848
     4   10353  199607       1.189324
     5   10353  199608       0.714599
     6   10353  199609       1.650226
     7   10353  199610       1.268000
     8   10353  199611       0.836181
     9   10353  199612       0.884687
```

**Feedback**:
- Num observations with diff >= TOL_DIFF_1: 569/837442 (0.068%)

**Most Recent Bad Observations**:
```
   permno  yyyymm        python         stata      diff
0   17901  202308      0.002809      0.002142  0.000668
1   20548  202308      0.034696      0.026375  0.008321
2   20548  202307      2.427039      1.766302  0.660737
3   21369  202307  17723.535343  17723.535000  0.000343
4   91135  202307      1.260762      1.013812  0.246951
5   20548  202306     12.532131     11.516562  1.015569
6   91135  202306      0.967417      0.507153  0.460264
7   20548  202305      0.531441      0.552066 -0.020626
8   20548  202304      1.384088      2.127048 -0.742960
9   12789  202212      0.653939      1.692765 -1.038826
```

**Largest Differences**:
```
   permno  yyyymm     python       stata        diff
0   87043  202004   0.154464  124.352980 -124.198516
1   10942  201112   0.047394   53.250633  -53.203239
2   77763  202002   0.634055   21.281256  -20.647201
3   89397  201012   1.535987   19.085653  -17.549666
4   48506  201801  18.401057    0.882653   17.518404
5   12473  201706   0.084918   15.179537  -15.094619
6   90352  201301  31.025911   16.048969   14.976942
7   48506  201208  15.819309    1.329106   14.490203
8   10051  201902   1.491168   13.382537  -11.891369
9   51596  199905   0.129471   11.443895  -11.314424
```

---

### RIVolSpread

**Status**: ❌ FAILED

**Test Results**:
- Test 1 - Column names: ✅ PASSED
- Test 2 - Superset check: ❌ FAILED (Python missing 5337 Stata observations)
- Test 3 - Precision1 check: ✅ PASSED
- Test 4 - Precision2 check: ❌ FAILED

**Columns**: ['RIVolSpread']

**Observations**:
- Stata:  750,937
- Python: 749,192
- Common: 745,600

**Precision1**: 0.053% obs with diff >= 1.00e-04 (tolerance: < 0.1%)

**Precision2**: 100th percentile diff = 8.32e-01 (tolerance: < 1.00e-06)

**Missing Observations Sample**:
```
 index  permno  yyyymm  RIVolSpread
     0   10353  199601     0.244927
     1   10353  199602     0.106554
     2   10353  199603     0.242911
     3   10353  199604    -0.014088
     4   10353  199605    -0.151875
     5   10353  199606    -0.134579
     6   10353  199607     0.208258
     7   10353  199608     0.026554
     8   10353  199609    -0.149417
     9   10353  199610    -0.195715
```

**Feedback**:
- Num observations with diff >= TOL_DIFF_1: 392/745600 (0.053%)

**Most Recent Bad Observations**:
```
   permno  yyyymm    python     stata      diff
0   21534  202208  0.492814  1.230890 -0.738076
1   19347  202202  1.319371  1.102670  0.216701
2   20142  202112  0.315672  0.201082  0.114590
3   21277  202112  0.126028  0.223227 -0.097199
4   20171  202110  3.698565  3.637709  0.060855
5   20399  202109 -0.161713 -0.186181  0.024469
6   19295  202108  0.054789 -0.374740  0.429529
7   20178  202108 -0.476564 -0.321246 -0.155317
8   20310  202108  0.223605 -0.092755  0.316360
9   20354  202107 -0.168526 -0.353121  0.184595
```

**Largest Differences**:
```
   permno  yyyymm    python     stata      diff
0   48506  200811  0.874520  0.042460  0.832060
1   21534  202208  0.492814  1.230890 -0.738076
2   42083  200812 -0.112869 -0.842906  0.730036
3   48506  200810  0.834305  0.162663  0.671642
4   42083  200810  0.245837 -0.412422  0.658259
5   42083  200811 -0.064122 -0.648126  0.584004
6   48506  200812  0.337302 -0.197359  0.534662
7   12473  201111 -0.124758  0.370471 -0.495229
8   42083  200901 -0.091850 -0.560106  0.468256
9   48506  200903  0.408234 -0.056874  0.465108
```

---

### SmileSlope

**Status**: ❌ FAILED

**Test Results**:
- Test 1 - Column names: ✅ PASSED
- Test 2 - Superset check: ❌ FAILED (Python missing 6146 Stata observations)
- Test 3 - Precision1 check: ✅ PASSED
- Test 4 - Precision2 check: ❌ FAILED

**Columns**: ['SmileSlope']

**Observations**:
- Stata:  862,230
- Python: 859,994
- Common: 856,084

**Precision1**: 0.048% obs with diff >= 1.00e-04 (tolerance: < 0.1%)

**Precision2**: 100th percentile diff = 2.51e+00 (tolerance: < 1.00e-06)

**Missing Observations Sample**:
```
 index  permno  yyyymm  SmileSlope
     0   10353  199601   -0.005213
     1   10353  199602    0.015477
     2   10353  199603   -0.035393
     3   10353  199604   -0.001036
     4   10353  199605   -0.000847
     5   10353  199606   -0.000553
     6   10353  199607    0.003536
     7   10353  199608   -0.023927
     8   10353  199609   -0.001470
     9   10353  199610    0.009965
```

**Feedback**:
- Num observations with diff >= TOL_DIFF_1: 407/856084 (0.048%)

**Most Recent Bad Observations**:
```
   permno  yyyymm    python     stata      diff
0   21534  202208  0.217100 -0.177240  0.394340
1   19347  202202  0.065221  0.068518 -0.003297
2   20142  202112  0.298879 -0.282450  0.581329
3   21277  202112  0.078872  1.738224 -1.659352
4   20171  202110 -0.272499  0.150525 -0.423024
5   20399  202109 -0.046154  0.009590 -0.055744
6   19295  202108  0.524126  0.511221  0.012905
7   20178  202108  0.042702 -0.022107  0.064809
8   20310  202108 -0.028377  1.294111 -1.322488
9   20354  202107  1.938081 -0.567183  2.505264
```

**Largest Differences**:
```
   permno  yyyymm    python     stata      diff
0   20354  202107  1.938081 -0.567183  2.505264
1   21277  202112  0.078872  1.738224 -1.659352
2   48506  200009  1.513003  0.010710  1.502293
3   20310  202108 -0.028377  1.294111 -1.322488
4   14831  201710 -1.251451  0.001846 -1.253297
5   24360  199805  1.702718  0.495195  1.207523
6   12473  201310 -0.009274 -0.695612  0.686338
7   20142  202112  0.298879 -0.282450  0.581329
8   42083  201006  0.011312  0.536802 -0.525490
9   12473  201505 -0.077450  0.397714 -0.475164
```

---

